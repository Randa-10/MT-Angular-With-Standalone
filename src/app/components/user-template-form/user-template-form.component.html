<!-- <button class="btn btn-danger" (click)="addNewUser()">
    add new user
</button> -->

<div class="container mt-5">
  <p>touched:{{ FirstName.touched | json }}</p>
  <p>dirty:{{ FirstName.dirty | json }}</p>
  <p>valid:{{ FirstName.valid | json }}</p>

  <div class="form-container">
    <h3 class="form-header">Sign Up Form</h3>

    <form (ngSubmit)="addNewUser()" #signUpForm="ngForm">
      <!-- Name Input -->
      <div class="mb-3">
        <label for="name" class="form-label">First Name</label>
        <input
          type="text"
          class="form-control"
          id="name"
          placeholder="Enter your last name"
          required
          [(ngModel)]="user.firstName"
          name="firstName"
          #FirstName="ngModel"
          minlength="3"
          [ngClass]="{
            'is-invalid':
              (FirstName.dirty || FirstName.touched) && FirstName.invalid,
            'is-valid': FirstName.valid
          }"
        />
        <div class="invalid-feedback">
          @if (FirstName.errors?.['required']) {
          <span>First name is required</span>
          }@else if (FirstName.errors?.['minlength']) {
          <span>First name must be at least 3 charcters</span>
          }
        </div>
      </div>
      <div class="mb-3">
        <label for="name" class="form-label">last Name</label>
        <input
          type="text"
          class="form-control"
          id="name"
          placeholder="Enter your last name"
          required
          [(ngModel)]="user.lastName"
          name="lastName"
          #LastName="ngModel"
          [ngClass]="{
            'is-invalid':
              (LastName.touched || LastName.dirty) && LastName.invalid,
            'is-valid': LastName.valid
          }"
        />

        <div class="invalid-feedback">
          @if (LastName.errors?.['required']) {
          <p>last name required</p>
          }
        </div>
      </div>
      <!-- Email Input -->
      <div class="mb-3">
        <label for="email" class="form-label">Email Address</label>
        <input
          type="email"
          class="form-control"
          id="email"
          placeholder="Enter your email"
          required
          [(ngModel)]="user.email"
          name="email"
        />
      </div>

      <!-- Password Input -->
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input
          type="password"
          class="form-control"
          id="password"
          placeholder="Enter your password"
          required
          [(ngModel)]="user.password"
          name="password"
        />
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Address</label>
        <input
          type="text"
          class="form-control"
          id="password"
          placeholder="Enter your Address"
          required
          [(ngModel)]="user.address"
          name="address"
        />
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="btn btn-custom w-100"
        [disabled]="signUpForm.invalid"
      >
        Submit
      </button>
    </form>

    <!-- Footer -->
    <div class="form-footer">
      <p>
        Already have an account?
        <a href="#" class="text-decoration-none">Login</a>
      </p>
    </div>
  </div>
</div>
